!function(){var e={72:function(){}},t={};function i(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){"use strict";i(72);i.g.Quiz=class{constructor(e,t){this.options=Object.assign({isNext:()=>{},isPrev:()=>{},isSending:()=>{},progressBar:!0},t),this.count=0,this.quizTemplate=t,this.quiz=document?.querySelector(e),this.progressBar=this.quiz?.querySelector("[data-quiz-progress]"),this.resultArray=[],this.tmp={},this.events()}events(){document.addEventListener("DOMContentLoaded",(()=>{this.quizInit(),this.quiz.addEventListener("click",(e=>{e.target==this.quiz.querySelector("[data-quiz-next]")&&this.nextQuestion(),e.target==this.quiz.querySelector("[data-quiz-prev]")&&this.prevQuestion(),e.target==this.quiz.querySelector("[data-quiz-send]")&&(e.preventDefault(),this.quizSend())})),this.quiz.addEventListener("input",(e=>{e.target==e.target.closest("input")&&this.quiz.querySelectorAll("input").forEach((e=>this.removeErrorClass(e)))})),this.quiz.addEventListener("change",(e=>{if(e.target==e.target.closest("input")&&(this.quiz.querySelectorAll("input").forEach((e=>this.removeErrorClass(e))),this.tmp=this.serialize(this.quiz)),"INPUT"==e.target.tagName){let t=this.quiz.querySelectorAll("input"),i=this.quiz?.querySelectorAll("input.req");"checkbox"!==e.target.type&&"radio"!==e.target.type&&!i.length>0&&t.forEach((e=>e.checked=!1)),this.tmp=this.serialize(this.quiz)}}))}))}quizInit(){this.quiz.insertAdjacentHTML("beforeend",this.quizTemplate[this.count]),this.options.progressBar?this.updateScrollbar():this.progressBar?.classList.add("hide")}addErrorClass(e){e.classList.add("error")}removeErrorClass(e){e.classList.remove("error")}quizValidation(){let e=!1;const t=this.quiz?.querySelectorAll("input"),i=this.quiz?.querySelectorAll("input.req");return t.forEach((t=>{if(t.classList.contains("req")){switch(t.type){case"tel":case"text":if(!t.value)return e=!1,void this.addErrorClass(t);break;case"checkbox":case"radio":if(!t.checked)return e=!1,void this.addErrorClass(t)}e=!0}else if(0===i.length)switch(t.type){case"tel":t.value?e=!0:this.addErrorClass(t);case"text":t.value?e=!0:this.addErrorClass(t);case"checkbox":t.checked?e=!0:this.addErrorClass(t);case"radio":t.checked?e=!0:this.addErrorClass(t)}})),e}nextQuestion(){this.quizValidation()&&(this.pushToSend(),this.count++,this.options.progressBar&&this.updateScrollbar(),this.quiz.querySelector(".quiz__content").remove(),this.quiz.insertAdjacentHTML("beforeend",this.quizTemplate[this.count]),this.options.isNext(this))}prevQuestion(){this.removeResultArray(),this.count--,this.options.progressBar&&this.updateScrollbar(),this.quiz.querySelector(".quiz__content").remove(),this.quiz.insertAdjacentHTML("beforeend",this.quizTemplate[this.count]),this.options.isPrev(this)}pushToSend(){this.resultArray.push(this.tmp)}removeResultArray(){this.resultArray.pop()}quizSend(){if(this.quizValidation()){this.pushToSend(),this.quiz.querySelectorAll("input").forEach((e=>{e.classList.remove("error"),e.checked=!1,e.value=""})),this.options.isSending(this)}}updateScrollbar(){this.progressBar.style.setProperty("--quiz-progress",(this.count+1)/this.quizTemplate.length*100+"%")}serialize(e){let t,i={},s="";if("object"==typeof e&&"FORM"==e.nodeName){let r=e.elements.length;for(let o=0;o<r;o++)if(t=e.elements[o],t.name&&!t.disabled&&"file"!=t.type&&"reset"!=t.type&&"submit"!=t.type&&"button"!=t.type)if("select-multiple"==t.type)for(j=e.elements[o].options.length-1;j>=0;j--)t.options[j].selected&&(i[i.length]=encodeURIComponent(t.name)+"="+encodeURIComponent(t.options[j].value));else("checkbox"!=t.type&&"radio"!=t.type&&t.value||t.checked)&&(s+=t.value+",",i[t.name]=s)}return i}}}()}();